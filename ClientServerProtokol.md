# Протокол взаимодействия между клиентом и сервером

## Клиент
1. При старте клиент запрашивает манифест ресурсов для стартовой страницы (создание новой УЗ, либо логин) - (добавить ссылку на манифест) (доступно без аутентификации);

2. Для создания новой УЗ клиент делает HTTP запрос (/api/user/sign-up) и передает в теле запроса параметры новой УЗ(добавить ссылку на описание формата) (доступно без аутентификации) при успешном создании возвращается HTTP статус 201 CREATED;

3. Для логина используется HTTP запрос (/api/user/login) в теле запрос передаются имя УЗ и пароль(добавить ссылку на описание формата) (даотсупно без аутентификации), при успешном логине возвращается статус 200, в заголовке Authentication находится JWT Token;

4. После логина HTTP запросом (добавить ссылку) запрашивается манифест ресурсов игры, (аутентификация JWT токеном в заголовке запроса);

5. Загрузка новых ресурсов и новых версий имеющихся (добавить ссылку) (аутентификация JWT токеном в заголовке запроса);

6. Коннект к вебсокету сервера - (ws://<server name>/ws) (аутентификация JWT токеном в заголвках HTTP и STOMP);

7. Запрос списка имеющихся игровых персонажей STOMP запрос (/app/players) (добавить ссылку на описание формата ответа);

8. Создание нового игрового персонажа STOMP запрос (/app/players/add) (добавить ссылку на описание формата запроса);

9. Выбор активного игрового персонажа и вход им в игровой мир (/app/players/start) (добавить ссылку на описание формата запроса);

10. Дальнейшее взаимодействие строится по принципу - клиент отправляет на сервер STOMP запросы с требованием каких-то действий, сервер в одну очередь кидает сообщения разных типов, оповещающие клиента об изменениях в игровом мире (смена текущей локации, );
